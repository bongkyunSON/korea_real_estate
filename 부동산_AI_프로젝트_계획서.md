# '부동산 AI 비서' 프로젝트 개발 태스크 플로우

Stockelper 프로젝트의 아키텍처(백엔드, 프론트엔드, 데이터 파이프라인)를 벤치마킹하여 부동산 도메인에 맞게 재구성한 개발 계획서입니다.

---

### **Phase 1: 프로젝트 기반 설계 및 백엔드 구축 (예상 소요: 1~2주)**

* **1-1. 모노레포(Monorepo) 설정**:

  * 하나의 프로젝트에서 백엔드, 프론트엔드, 데이터 파이프라인을 모두 관리할 수 있도록 `real-estate-backend`, `real-estate-frontend`, `real-estate-data-pipeline` 폴더 구조를 생성합니다.
* **1-2. FastAPI 백엔드 초기 설정**:

  * `real-estate-backend` 폴더에 FastAPI 프로젝트를 생성합니다.
  * CORS, 로깅 등 기본적인 미들웨어를 설정합니다. (`main.py` 참고)
* **1-3. 데이터베이스 모델링 및 연동**:

  * **Prisma** 또는 **SQLAlchemy**를 사용하여 사용자, 채팅방, 메시지 등 기본 데이터 모델을 정의합니다.
  * **PostgreSQL**을 주 데이터베이스로 설정하고 FastAPI와 연동합니다.
* **1-4. 사용자 인증 구현**:

  * 회원가입, 로그인, 세션 관리 API를 구현합니다. (JWT 토큰 방식 추천)

---

### **Phase 2: 부동산 데이터 수집 파이프라인 구축 (예상 소요: 2~3주)**

*Stockelper의 Airflow 크롤러 부분을 벤치마킹합니다.*

* **2-1. 데이터 소스 정의**:

  * **국토교통부 실거래가 공개시스템**: 아파트, 오피스텔 등 실거래가 데이터 (API)
  * **부동산 관련 뉴스**: 네이버 뉴스 등에서 지역 개발, 정책 관련 뉴스 (크롤링)
  * **공공데이터포털**: 건축물대장, 토지 정보 등 (API)
* **2-2. Airflow DAGs 작성**:

  * `real-estate-data-pipeline` 폴더에 Airflow 환경을 구축합니다.
  * 정의된 데이터 소스로부터 주기적으로 데이터를 수집하는 Python 스크립트(DAG)를 작성합니다. (예: `daily_transaction_crawler_dag.py`, `news_crawler_dag.py`)
* **2-3. 데이터베이스에 데이터 저장**:

  * 수집한 데이터를 목적에 맞게 각기 다른 데이터베이스에 저장합니다.
    * **실거래가/매물 정보**: PostgreSQL (정형 데이터)
    * **뉴스 기사/정책 문서**: **Milvus** (벡터 DB, AI의 의미 기반 검색용)
    * **지역-지하철역-개발호재 관계**: **Neo4j** (그래프 DB, 지식그래프 구축용)

---

### **Phase 3: 핵심 AI 멀티 에이전트 시스템 개발 (예상 소요: 3~4주)**

*Stockelper의 LangGraph 기반 멀티 에이전트 시스템을 벤치마킹합니다.*

* **3-1. LangGraph 기본 구조 설정**:

  * 백엔드에 LangGraph를 설치하고, 에이전트들의 상태를 관리할 `AgentState`를 정의합니다.
* **3-2. '부동산 전문 AI 에이전트' 설계 및 구현**:

  * **`시장 동향 분석 에이전트`**: 특정 지역의 시세, 거래량, 가격 변동 추이를 분석합니다. (Tool: PostgreSQL 조회)
  * **`매물 가치 평가 에이전트`**: 입력된 매물의 위치, 평수, 연식과 주변 실거래가를 비교하여 적정 가치를 추정합니다. (Tool: PostgreSQL, Neo4j 조회)
  * **`지역 호재 분석 에이전트`**: 뉴스, 공공 데이터를 분석하여 교통망 확충, 재개발 등 지역 호재 정보를 찾아냅니다. (Tool: Milvus 벡터 검색)
  * **`슈퍼바이저(감독관) 에이전트`**: 사용자 질문을 이해하고, 위 전문가 에이전트들에게 작업을 분배한 뒤, 결과를 종합하여 최종 보고서를 생성합니다.
* **3-3. AI-DB 연동 도구(Tool) 개발**:

  * 각 에이전트가 데이터베이스의 정보를 조회할 수 있는 Python 함수(Tool)들을 만듭니다.

---

### **Phase 4: 프론트엔드(UI/UX) 개발 (예상 소요: 2~3주)**

*`stockelper-fe` (Next.js) 프로젝트를 벤치마킹합니다.*

* **4-1. Next.js 프로젝트 초기 설정**:

  * `real-estate-frontend` 폴더에 Next.js(App Router) 프로젝트를 생성합니다.
  * Tailwind CSS, shadcn/ui 등 UI 라이브러리를 설정합니다.
* **4-2. 주요 페이지 및 컴포넌트 개발**:

  * 로그인, 회원가입 페이지를 만듭니다.
  * 메인 채팅 페이지 레이아웃을 구성합니다. (`chat-window.tsx`)
  * 재사용 가능한 UI 컴포넌트(버튼, 입력창, 카드 등)를 만듭니다.
* **4-3. 실시간 채팅 기능 구현**:

  * 백엔드의 `/real-estate/chat` API와 통신하는 로직을 작성합니다. (`use-chat.ts`)
  * **Server-Sent Events(SSE)**를 사용하여, AI의 분석 진행 상황을 실시간으로 화면에 표시합니다. (예: "실거래가 분석 중...", "뉴스 검색 중...")
  * 최종 분석 결과를 받아와 화면에 시각적으로 표시합니다. (차트, 지도, 정보 카드 등)

---

### **Phase 5: 통합 및 배포 (예상 소요: 1~2주)**

* **5-1. Docker 컨테이너화**:

  * 백엔드, 프론트엔드, Airflow, 모든 데이터베이스를 각각 Docker 이미지로 만듭니다.
  * `docker-compose.yml` 파일을 작성하여 모든 서비스들을 한 번에 실행하고 관리할 수 있게 합니다.
* **5-2. 클라우드 배포**:

  * Naver Cloud Platform, AWS, GCP 등 클라우드 서비스에 Docker 컨테이너들을 배포합니다.
* **5-3. 테스트 및 안정화**:

  * 전체 기능이 유기적으로 잘 동작하는지 테스트하고 버그를 수정합니다.
